@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  margin: 0;
  min-height: 100vh;
}

/* 印刷用スタイル */
@media print {
  /* ナビゲーション、ボタン類を非表示 */
  nav,
  .no-print,
  button:not(.print-include) {
    display: none !important;
  }

  /* 背景色を印刷 */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* ページ設定 */
  @page {
    size: A4;
    margin: 5mm;
  }

  /* 本文の設定 */
  body {
    font-size: 12pt;
    line-height: 1.4;
    background: white !important;
  }

  /* テーブルのスタイル */
  table {
    width: 100%;
    border-collapse: collapse;
    page-break-inside: auto;
  }

  tr {
    page-break-inside: avoid;
    page-break-after: auto;
  }

  th, td {
    border: 1px solid #333 !important;
    padding: 6px 8px !important;
  }

  thead {
    display: table-header-group;
  }

  /* 印刷用ヘッダー */
  .print-header {
    display: block !important;
    text-align: center;
    margin-bottom: 20px;
  }

  .print-header h1 {
    font-size: 18pt;
    margin-bottom: 5px;
  }

  .print-header p {
    font-size: 10pt;
    color: #666;
  }

  /* シャドウを削除 */
  .shadow, .shadow-md, .shadow-lg {
    box-shadow: none !important;
  }

  /* 角丸を削除 */
  .rounded, .rounded-md, .rounded-lg {
    border-radius: 0 !important;
  }

  /* 横スクロールコンテナを印刷時に全表示 */
  .overflow-x-auto {
    overflow: visible !important;
  }

  /* 月次推移表用: 横向き印刷用クラス */
  .print-landscape {
    page: landscape;
  }
}

/* 月次推移表用: 横向き印刷 */
@page landscape {
  size: A4 landscape;
  margin: 10mm;
}

@media print {
  .print-landscape table {
    font-size: 9pt;
  }

  .print-landscape th,
  .print-landscape td {
    padding: 4px 6px !important;
    white-space: nowrap;
  }

  /* stickyを印刷時に解除 */
  .print-landscape .sticky {
    position: static !important;
  }

  /* min-widthを解除 */
  .print-landscape th,
  .print-landscape td {
    min-width: unset !important;
  }
}

/* 印刷用ヘッダー（通常は非表示） */
.print-header {
  display: none;
}

/* 印刷コンテンツ用スタイル */
@media print {
  .print-content {
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    padding: 0 !important;
    box-shadow: none !important;
  }

  .print-content table {
    font-size: 10pt;
  }

  .print-content th,
  .print-content td {
    padding: 8px 12px !important;
  }

  /* 仕訳帳: チェックボックス列（1列目）と操作列（最終列）を非表示 */
  table th:first-child,
  table td:first-child,
  table th:last-child,
  table td:last-child {
    display: none !important;
  }

  /* 金額列: 右寄せ、余白調整 */
  table th:nth-last-child(2),
  table td:nth-last-child(2) {
    text-align: right !important;
    padding-right: 16px !important;
    white-space: nowrap !important;
  }

  /* テーブル幅を自動調整 + 外枠罫線 */
  table {
    table-layout: auto !important;
    width: 95% !important;
    margin: 0 auto !important;
    border-collapse: collapse !important;
    border: 1px solid #333 !important;
  }
}
